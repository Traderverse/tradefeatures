---
title: "Case Study: RSI Mean Reversion Strategy"
author: "TradingVerse Team"
date: "`r Sys.Date()`"
output: rmarkdown::html_vignette
vignette: >
  %\VignetteIndexEntry{Case Study: RSI Mean Reversion Strategy}
  %\VignetteEngine{knitr::rmarkdown}
  %\VignetteEncoding{UTF-8}
---

```{r setup, include = FALSE}
knitr::opts_chunk$set(
  collapse = TRUE,
  comment = "#>",
  fig.width = 7,
  fig.height = 5
)
```

## Introduction

The RSI (Relative Strength Index) mean reversion strategy is a contrarian approach that buys oversold stocks and sells overbought stocks. This case study demonstrates how to implement and test this popular strategy.

## Strategy Overview

**Type**: Mean Reversion  
**Indicator**: RSI (14-period)  
**Entry**: RSI < 30 (oversold)  
**Exit**: RSI > 70 (overbought)  
**Asset**: Apple (AAPL)  
**Period**: 2023-2024  

## Complete Implementation

```{r eval=FALSE}
library(tradeio)
library(tradefeatures)
library(tradeengine)
library(dplyr)

# Step 1: Fetch data and add RSI
results <- fetch_prices("AAPL", from = "2023-01-01") |>
  add_rsi(14) |>
  # Step 2: Add trend filter (only trade with trend)
  add_sma(50) |>
  # Step 3: Define strategy
  mutate(
    # Entry: Oversold + above long-term trend
    entry_signal = (rsi < 30) & (close > sma_50),
    # Exit: Overbought OR stop loss
    exit_signal = (rsi > 70) | (close < sma_50)
  ) |>
  # Step 4: Backtest
  add_strategy(
    entry = entry_signal,
    exit = exit_signal
  ) |>
  backtest(initial_capital = 10000)

# View results
print(results$summary)
```

## Key Insights

✅ **Works best in trending markets with pullbacks**  
✅ **Quick trades (average 5-10 days)**  
✅ **High win rate (60-70% typical)**  
✅ **Small average gains per trade**  

## Enhancements

### 1. Multiple Timeframe RSI

```{r eval=FALSE}
data |>
  add_rsi(14, name = "rsi_14") |>
  add_rsi(21, name = "rsi_21") |>
  mutate(
    entry = (rsi_14 < 30) & (rsi_21 < 40)  # Both oversold
  )
```

### 2. Bollinger Band Confirmation

```{r eval=FALSE}
data |>
  add_rsi(14) |>
  add_bbands(20) |>
  mutate(
    entry = (rsi < 30) & (close < bb_lower)  # Oversold + at lower band
  )
```

### 3. Volume Confirmation

```{r eval=FALSE}
data |>
  add_rsi(14) |>
  add_obv() |>
  mutate(
    entry = (rsi < 30) & (obv > lag(obv))  # Oversold + volume increasing
  )
```

## Conclusion

RSI mean reversion is excellent for:
- Short-term trading
- High-probability setups  
- Range-bound markets
- Quick profits

Combine with trend filters and other indicators for best results!
