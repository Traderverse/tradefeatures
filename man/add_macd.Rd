% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/momentum.R
\name{add_macd}
\alias{add_macd}
\title{Add MACD (Moving Average Convergence Divergence)}
\usage{
add_macd(data, fast = 12, slow = 26, signal = 9, price = "close")
}
\arguments{
\item{data}{A data frame or market_tbl with price data}

\item{fast}{Integer: fast EMA period (default: 12)}

\item{slow}{Integer: slow EMA period (default: 26)}

\item{signal}{Integer: signal line EMA period (default: 9)}

\item{price}{Character: column name to use (default: "close")}
}
\value{
Data with new MACD columns: macd, macd_signal, macd_histogram
}
\description{
Add MACD indicator with signal line and histogram. MACD is calculated as
the difference between two EMAs, and the signal line is an EMA of the MACD.
}
\examples{
\dontrun{
library(tradeio)

# Add MACD with default parameters
prices <- fetch_prices("AAPL", from = "2024-01-01") |>
  add_macd()

# Use MACD crossover as signal
library(dplyr)
prices |>
  add_macd() |>
  mutate(
    macd_cross_up = (macd > macd_signal) & (lag(macd) <= lag(macd_signal)),
    macd_cross_down = (macd < macd_signal) & (lag(macd) >= lag(macd_signal))
  )
}
}
