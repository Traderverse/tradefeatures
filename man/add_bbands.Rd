% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/volatility.R
\name{add_bbands}
\alias{add_bbands}
\title{Add Bollinger Bands}
\usage{
add_bbands(data, n = 20, sd = 2, price = "close")
}
\arguments{
\item{data}{A data frame or market_tbl with price data}

\item{n}{Integer: period for moving average (default: 20)}

\item{sd}{Numeric: number of standard deviations for bands (default: 2)}

\item{price}{Character: column name to use (default: "close")}
}
\value{
Data with new columns: bb_upper, bb_middle, bb_lower
}
\description{
Add Bollinger Bands to market data. Bollinger Bands consist of a middle band
(SMA) and two outer bands at standard deviations away from the middle.
}
\examples{
\dontrun{
library(tradeio)

# Add Bollinger Bands
prices <- fetch_prices("AAPL", from = "2024-01-01") |>
  add_bbands(20, sd = 2)

# Identify when price touches bands
library(dplyr)
prices |>
  add_bbands() |>
  mutate(
    at_lower_band = close <= bb_lower,
    at_upper_band = close >= bb_upper,
    squeeze = (bb_upper - bb_lower) / bb_middle < 0.05
  )
}
}
