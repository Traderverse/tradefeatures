% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/volatility.R
\name{add_atr}
\alias{add_atr}
\title{Add Average True Range (ATR)}
\usage{
add_atr(data, n = 14, name = "atr")
}
\arguments{
\item{data}{A data frame or market_tbl with OHLC data}

\item{n}{Integer: period for ATR (default: 14)}

\item{name}{Character: name for new column (default: "atr")}
}
\value{
Data with new ATR column
}
\description{
Add ATR indicator. ATR measures market volatility by calculating the
average of true ranges over a period.
}
\examples{
\dontrun{
library(tradeio)

# Add ATR
prices <- fetch_prices("AAPL", from = "2024-01-01") |>
  add_atr(14)

# Use ATR for position sizing
library(dplyr)
prices |>
  add_atr() |>
  mutate(
    position_size = 1000 / (2 * atr)  # Risk 2 ATRs
  )
}
}
